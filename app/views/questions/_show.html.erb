<style>
    .description {
        font-size: medium;
    }

</style>
<% if params[:lesson_id] %>
    <%= link_to '問題一覧に戻る', lesson_questions_path(:lesson_id =>params[:lesson_id]  ),:remote => true ,:class=>"btn btn-default"  %>
<% else %>
    <%= link_to '問題一覧に戻る', questions_path %>
<% end %>

<h2><%= @question.title %></h2>

<div class="table-responsive">
  <table class="table table-bordered table-striped">
    <tr>
      <th></th>
      <th>結果</th>
      <th>実行時間</th>
      <th>メモリ使用率</th>
    </tr>
    <tr>
      <td>制限</td>
      <td>-</td>
      <td><%= @question.run_time_limit %></td>
      <td><%= @question.memory_usage_limit %></td>
    </tr>
    <% unless @is_teacher %>
        <tr>
          <td>提出物</td>
          <td><%= Answer::RESULT[@latest_answer.result] %></td>
          <td><%= @latest_answer.run_time %></td>
          <td><%= @latest_answer.memory_usage %></td>
        </tr>
    <% end %>
  </table>
</div>

<h3>説明</h3>
<div class="bg-success description">
  <%= @question.content %>
</div>
<h3>入力</h3>
<div class="bg-success description">
  <%= @question.input_description %>
</div>
<h3>出力</h3>
<div class="bg-success description">
  <%= @question.output_description %>
</div>

<div name="samples">
  <h3>入出力例</h3>
  <ul>
    <% @question.samples.each.with_index(1) do |sample, i| %>
        <li><h4>入力<%= i %></h4></li>
        <div class="bg-success">
          <%= sample.input %>
        </div>
        <li><h4>出力<%= i %></h4></li>
        <div class="bg-success">
          <%= sample.output %>
        </div>
        <hr size="3" noshade="noshade">
    <% end %>
  </ul>
</div>


<% unless @is_teacher %>
    <h3 id="answer">投稿</h3>
    <%= form_tag({:controller => "answers", :action =>  "create"},:remote => true, :authenticity_token => true, :multipart => true) do  %>
        <div class="answer form-group" name="answer">
          <div class="answer form-group" name="language">
            <%= label_tag :language, '使用言語' %>
            <%= select_tag :language, options_for_select({'Python' => 'python'}), :class => 'form-control', :style => 'width:220px' %>
          </div>
          <div class="answer form-group" name="upload_form">
            <%= label_tag :upload_file, 'ファイル選択' %>
            <%= file_field_tag :upload_file %>
            <p class="help-block">ファイルサイズは10MBまで</p>
          </div>
          <%= hidden_field_tag :lesson_id, params[:lesson_id] %>
          <%= hidden_field_tag :id, params[:id] %>
          <%= submit_tag 'アップロード', :class => 'btn btn-primary', :id=> "file_up_ajax" %>
        </div>
    <% end %>
<% end %>
<script>

    $('#file_up_ajax').click(function(e){
        $.ajax({
            url: answers_path,
            type: "POST",
            data: {
            }
        });
    })
</script>